<!-- Curved Falling Lines (converge center, topâ†’bottom, +2 side lines, +30% curve, focus point = bottom-70) -->
<!doctype html><html lang="vi"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Curved Falling Lines</title>
<style>
  html,body{height:100%;margin:0;background:#0E1011;overflow:hidden}
  svg{position:fixed;inset:0;width:100%;height:100%;display:block}
  .track{fill:none;stroke:rgba(255,255,255,.08);stroke-width:1}
  .runner{fill:none;stroke:var(--color);stroke-width:1;stroke-linecap:round;
    animation:fall var(--dur) linear infinite;animation-delay:var(--delay);
    animation-timing-function:cubic-bezier(.4,.26,0,.97)}
  @keyframes fall{from{stroke-dashoffset:var(--start)}to{stroke-dashoffset:var(--end)}}
  @media (prefers-reduced-motion:reduce){.runner{animation:none}}
</style>
</head><body>
<svg id="stage" preserveAspectRatio="none"></svg>
<script>
/* ===== params giá»¯ nguyÃªn tinh tháº§n báº£n trÆ°á»›c ===== */
const PALETTE = ["#FFC413","#00A652","#FFBCFC","#4A4A48","#00A652","#C4C8FF"];
const LINE_COUNT = 14;          // 12 + 2 line á»Ÿ 2 bÃªn
const MIN_DELAY = 0, MAX_DELAY = 3.5;
const SPEED_S = 7;              // tá»‘c Ä‘á»™ rÆ¡i
const MIN_LEN = 50, MAX_LEN = 150; // chiá»u dÃ i vá»‡t
const CURVE_BOOST = 1.3;        // +30% Ä‘á»™ uá»‘n
const FOCUS_OFFSET = 70;        // Ä‘iá»ƒm chá»¥m cÃ¡ch mÃ©p dÆ°á»›i 70px

const svg = document.getElementById('stage');
const pick = a => a[(Math.random()*a.length)|0];
const rand = (a,b) => a + Math.random()*(b-a);

/* Ä‘Æ°á»ng cong chá»¥m vÃ o tÃ¢m Ä‘Ã¡y (cÃ¡ch Ä‘Ã¡y 70px), tÄƒng Ä‘á»™ uá»‘n 30% */
function makeCurvedPathD(x0, w, h){
  const cx = w*0.5, cy = h - FOCUS_OFFSET;     // Ä‘iá»ƒm há»™i tá»¥
  const tCloser = 0.8 + 0.2*(CURVE_BOOST-1);   // kÃ©o gáº§n tÃ¢m hÆ¡n
  const c1y = h * (0.35 * (2 - CURVE_BOOST));  // cong sá»›m hÆ¡n
  const c2x = x0 + (cx - x0) * tCloser;
  const c2y = h * (0.78 - 0.15*(CURVE_BOOST-1));
  return `M ${x0},0 C ${x0},${c1y} ${c2x},${c2y} ${cx},${cy}`;
}

function build(){
  svg.innerHTML = '';
  const w = svg.clientWidth, h = svg.clientHeight;
  svg.setAttribute('viewBox', `0 0 ${w} ${h}`);

  // táº¡o vá»‹ trÃ­ X: thÃªm 2 line sÃ¡t 2 bÃªn (inset nháº¹), pháº§n cÃ²n láº¡i chia Ä‘á»u
  const inset = Math.min(60, w*0.06);
  const xs = [0, inset];
  const mid = LINE_COUNT - 4; // cÃ²n láº¡i á»Ÿ giá»¯a
  for (let i=1;i<=mid;i++) xs.push((i/(mid+1))*w);
  xs.push(w-inset, w);

  xs.forEach(x=>{
    const d = makeCurvedPathD(x, w, h);

    // track má»
    const track = document.createElementNS('http://www.w3.org/2000/svg','path');
    track.setAttribute('class','track'); track.setAttribute('d', d); svg.appendChild(track);

    // runner mÃ u (cháº¡y LIá»€N Máº CH tá»« trÃªn xuá»‘ng)
    const r = document.createElementNS('http://www.w3.org/2000/svg','path');
    r.setAttribute('class','runner'); r.setAttribute('d', d); svg.appendChild(r);

    const pathLen = r.getTotalLength();
    const segLen  = Math.round(rand(MIN_LEN, MAX_LEN));   // 50â€“150px
    r.style.strokeDasharray = `${segLen} ${pathLen}`;
    // ğŸ‘‰ luÃ´n Ä‘i tá»« TRÃŠN xuá»‘ng: báº¯t Ä‘áº§u -seg (ngoÃ i khung trÃªn) â†’ káº¿t thÃºc pathLen+seg (qua khá»i Ä‘Ã¡y)
    r.style.setProperty('--start', `-${segLen}px`);
    r.style.setProperty('--end',   `${pathLen + segLen}px`);
    r.style.setProperty('--dur',   `${SPEED_S}s`);
    r.style.setProperty('--delay', `${rand(MIN_DELAY, MAX_DELAY).toFixed(2)}s`); // lá»‡ch pha ban Ä‘áº§u
    r.style.setProperty('--color', pick(PALETTE));
  });
}

build();
addEventListener('resize', build, {passive:true});
</script>
</body></html>
